config META_VIRT
	bool "Virtualisation"
	depends on 64BIT

	select NET
	select INET
	select NETDEVICES
	select NET_CORE
	select MULTIUSER
	select HIGH_RES_TIMERS
	select VIRTUALIZATION
	select KVM
	select KVM_INTEL if CPU_SUP_INTEL
	select VHOST_NET
	select TUN

	select MACVLAN
	select MACVTAP

config META_VIRTIO
	bool "VirtIO support"

	select NETDEVICES
	select NET_CORE
	select VIRTIO
	select VIRTIO_MENU
	select VIRTIO_CONSOLE
	select VIRTIO_NET
	select VIRTIO_PCI
	select VIRTIO_RING
	select VIRTIO_BLK
	select VIRTIO_BLK_SCSI
	select HW_RANDOM
	select HW_RANDOM_VIRTIO
	select 9P_FS
	select 9P_FS_POSIX_ACL
	select NET_9P
	select NET_9P_VIRTIO
	select FB
	select FB_VESA

config META_CONTAINER
	bool "Container support"

	select NETDEVICES
	select NET_CORE
	select VETH
	select OVERLAY_FS

config META_IOMMU
	bool "IOMMU (VT-d) support"

	depends on 64BIT

	select ACPI
	select IOMMU_API
	select VFIO
	select VFIO_PCI
	select VFIO_PCI_VGA
	select IOMMU_SUPPORT
	select PCI_MSI
	select INTEL_IOMMU if CPU_SUP_INTEL
	select INTEL_IOMMU_SVM if CPU_SUP_INTEL
	select IRQ_REMAP
	select CALGARY_IOMMU

config META_LIBVIRT
	tristate "libvirt requirements"

	default y if META_ALL

	select CONFIG_BRIDGE_EBT_MARK_T
	select CONFIG_BRIDGE_NF_EBTABLES
	select CONFIG_NETFILTER_XT_CONNMARK
	select CONFIG_NETFILTER_XT_TARGET_CHECKSUM
	select CONFIG_BRIDGE_EBT_T_NAT
	select CONFIG_NET_ACT_POLICE
	select CONFIG_NET_CLS_FW
	select CONFIG_NET_CLS_U32
	select CONFIG_NET_SCH_HTB
	select CONFIG_NET_SCH_INGRESS
	select CONFIG_NET_SCH_SFQ
